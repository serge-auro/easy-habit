# Документация к модулю управления привычками

## Описание методов

### `init_user(user_id)`
Метод создания нового пользователя. Данный метод записывает telegram ID пользователя (`user_id`) в таблицу `users` в столбец `id` и текущую дату в столбец `creation_date`.
- **Параметры**:
  - `user_id`: Integer - идентификатор пользователя в Telegram.
- **Возвращает**: None.
- **Использует**:
  - SQLite3 для взаимодействия с базой данных.
  - `datetime.now().strftime('%Y-%m-%d')` для получения текущей даты.
- **Используемые таблицы**:
  - `user`: таблица пользователей.

### `init_habit(name, description)`
Метод добавления привычки в базу данных. Принимает наименование и описание привычки, записывает эти данные в таблицу `habit`.
- **Параметры**:
  - `name`: String - название привычки.
  - `description`: String - описание привычки.
- **Возвращает**: None.
- **Использует**:
  - SQLite3 для взаимодействия с базой данных.
- **Используемые таблицы**:
  - `habit`: таблица привычек.

### `assign_habit(user_id, habit_id, frequency_name, frequency_count)`
Метод присваивает привычку пользователю. Записывает в таблицу `user_habit` данные пользователя, привычки и параметры частоты выполнения.
- **Параметры**:
  - `user_id`: Integer - идентификатор пользователя.
  - `habit_id`: Integer - идентификатор привычки.
  - `frequency_name`: Enum (ежедневно, еженедельно, ежемесячно) - периодичность выполнения.
  - `frequency_count`: Integer - количество выполнений привычки за период.
- **Возвращает**: String - сообщение о добавлении привычки.
- **Использует**:
  - SQLite3 для взаимодействия с базой данных.
- **Используемые таблицы**:
  - `user_habit`: связь между пользователями и их привычками.

### `list_habits()`
Метод вывода списка всех доступных привычек для пользователя.
- **Параметры**:
  - `user_id`: Integer - идентификатор пользователя.
- **Возвращает**: String - список всех привычек с их описаниями.
- **Использует**:
  - SQLite3 для взаимодействия с базой данных.
- **Используемые таблицы**:
  - `habit`: таблица привычек.

### `habit_status(user_id)`
Метод для получения статуса всех активных привычек пользователя. Выводит названия и описания активных привычек.
- **Параметры**:
  - `user_id`: Integer - идентификатор пользователя.
- **Возвращает**: Dictionary - словарь с названиями и описаниями активных привычек или None, если привычек нет.
- **Использует**:
  - SQLite3 для взаимодействия с базой данных.
- **Используемые таблицы**:
  - `habit`, `user_habit`: таблицы привычек и связи между пользователями и их привычками.

### `save_session(user_id, state, data)`
Метод для сохранения состояния сессии пользователя. Записывает данные сессии в таблицу `sessions`.
- **Параметры**:
  - `user_id`: Integer - идентификатор пользователя.
  - `state`: String - текущее состояние сессии.
  - `data`: JSON - дополнительные данные сессии.
- **Возвращает**: None.
- **Использует**:
  - SQLite3 для взаимодействия с базой данных, json для сериализации данных.
- **Используемые таблицы**:
  - `sessions`: таблица сессий.

### `update_session(session_id, state, data)`
Метод для обновления состояния сессии пользователя. Обновляет записи в таблице `sessions` на основе предоставленных данных.
- **Параметры**:
  - `session_id`: Integer - уникальный идентификатор сессии.
  - `state`: String - новое состояние сессии.
  - `data`: JSON - обновлённые данные сессии.
- **Возвращает**: None.
- **Использует**:
  - SQLite3 для взаимодействия с базой данных, json для сериализации данных.
- **Используемые таблицы**:
  - `sessions`: таблица сессий.

### `get_session(user_id)`
Метод для получения данных сессии пользователя. Извлекает данные из таблицы `sessions` на основе идентификатора пользователя.
- **Параметры**:
  - `user_id`: Integer - идентификатор пользователя.
- **Возвращает**: Tuple - данные сессии или None, если сессия не найдена.
- **Использует**:
  - SQLite3 для взаимодействия с базой данных.
- **Используемые таблицы**:
  - `sessions`: таблица сессий.

### `get_session(user_id)`
Метод для получения данных сессии пользователя. Извлекает данные из таблицы `sessions` на основе идентификатора пользователя.
- **Параметры**:
  - `user_id`: Integer - идентификатор пользователя.
- **Возвращает**: Tuple - данные сессии или None, если сессия не найдена.
- **Использует**:
  - SQLite3 для взаимодействия с базой данных.
- **Используемые таблицы**:
  - `sessions`: таблица сессий.

